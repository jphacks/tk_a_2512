<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ToDoバトル</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div id="menu-bar">
        <h2>メニュー</h2>
        <button id="close-menu-bar">&times;</button>
        <ul>
            <li id="my-page"><a href="mypage.html">マイページ</a></li>
            <li id="settings">設定</li>
            <li><button id="clear-history-btn" class="menu-btn">達成履歴を削除</button></li>
        </ul>
    </div>

    <button id="open-menu-bar">&#9776; メニュー</button>

    <div class="battle-card">
        <div class="player-section">
            <div id="player-status">
                <p><span id="player-level-display">Lv.1</span> | EXP: <span id="player-exp-display">0</span>/<span id="player-exp-next-display">100</span></p>
                <div class="xp-bar-container">
                    <div id="xp-fill" class="xp-fill" style="width: 0%;"></div>
                </div>
            </div>
            <img id="player" src="{{ url_for('static', filename='player.gif') }}" alt="プレイヤー">
        </div>

        <div class="monster-section">
            <div class="monster-hp-container">
                <span id="monster-name">モンスター</span>
                <div id="monster-hp-bar" style="display: none;">
                    <div id="monster-hp-fill"></div>
                </div>
            </div>
            <img id="monster" src="{{ url_for('static', filename='monster.gif') }}" alt="モンスター">
        </div>
    </div>

    <h2>ToDo一覧</h2>
    
    <div class="sort-controls">
        <label for="sort-select">並び替え:</label>
        <select id="sort-select">
            <option value="default">追加順 (デフォルト)</option>
            <option value="difficulty-asc">難易度 (低い順)</option>
            <option value="difficulty-desc">難易度 (高い順)</option>
            <option value="due-date-asc">期限 (早い順)</option>
        </select>
    </div>

    <div class="todo-list" id="todo-list"></div>

    <h2>新しいToDo作成</h2>
    <form id="todo-form">
        <input type="text" id="todo-title" placeholder="タスク名" required>
        <input type="date" id="todo-due-date" required> 
        
        <select id="todo-difficulty">
            <option value="1">難易度1</option>
            <option value="2">難易度2</option>
            <option value="3">難易度3</option>
        </select>
        <button type="submit">ToDo追加</button>
    </form>

    <h2>達成履歴</h2>
    <div class="history-list" id="history-list"></div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>